# モバイルアプリエンジニア採用課題

## 本課題の意図・位置付け

本課題は、候補者さまの技術力や知識だけではなく、**技術的な思想や志向、当社とのマッチング**を確認させていただく目的で設定しております。

候補者様がどのようなソフトウェアエンジニアであるかを、課題を通して表現していただけると幸いです。

---

## 課題テーマ

**時限チャットアプリの設計・実装**

メッセージが時間経過で自動消去される特殊なチャットアプリを開発してください。API仕様は以下に定義済みです。

[API_SPEC.md](API_SPEC.md)

---

## 機能要件

以下の機能を実装してください。

### 1. 時限メッセージ機能

- メッセージは送信から24時間で自動消去
- 既読になった場合、既読時刻から1時間後が新しい消去時刻となる
- 消去予定時刻のカウントダウン表示

### 2. 既読仕様

- メッセージが画面上に3秒以上表示された時点で「既読」となる
  - 既読判定: 画面上の表示率が 80% 以上の状態が連続して 3 秒以上継続した場合に既読とする
  - バックグラウンドでは既読にならない
  - 既読判定の責務: **クライアント側で 3 秒継続の判定を行い、条件を満たしたタイミングで既読更新 API を 1 回だけ呼び出す**
  - 既読の確定時刻はサーバー時刻
- 時刻基準: 消去期限の計算はサーバー時刻を基準とし、表示上は端末時刻で暫定表示してよい
- 復帰時の扱い: フォアグラウンド復帰時に最新データを取得し、期限切れのメッセージは即時非表示とする

---

上記要件を満たした上でのさらなる機能追加については、一切制約はございません。以下のような観点でのこだわりや考え方を、ぜひ実装にこめていただければ幸いです。

- 複雑なタイマー管理をどのように設計したか？
- よりよいユーザ体験になっているか？（カウントダウン表示、消去アニメーションなど）
- パフォーマンスへの配慮はどうか？（バッテリー消費、メモリ使用量など）
- エッジケースの考慮はどうか？（オフライン、バックグラウンド、クラッシュ復旧など）

---

## 非機能要件

- モバイルアプリ開発に適した技術を選定してください（Flutter, Swift, Kotlin, React Native など）。
- アーキテクチャ、状態管理、ライブラリの選定は自由です。
- 選定理由をドキュメントに記載してください。
- 3〜6名程度が所属するチームでアジリティ高く開発できそうか、新しいメンバーがシームレスに開発に参加できそうかを考慮した構成にしてください。
- 普段の開発はチームに所属する各開発者の手元の環境で行えるようにしてください。
- サーバー時刻の取り扱い: 表示上は端末時刻でカウントダウンして構わないが、API から取得した `expires_at` / `read_at` を最終的な正として扱う
- 端末時刻とサーバー時刻がずれている場合でも、次回同期で表示が補正される設計であれば問題ない
- メッセージ同期: リアルタイム受信やポーリングは必須ではない。必要に応じて適切なタイミングで最新データを取得する方針を設計し、理由と方針をドキュメントに記載

---

## 実装について

アプリケーションの構成・レイヤー分割は候補者さまにお任せします。採用した設計の意図や理由をドキュメントで説明してください。

### バックエンドについて

バックエンドの実装は必須ではありません。以下のいずれかの方法で対応してください。

- **モックサーバー**：固定値やランダム値を返す簡易的なサーバー実装
- **ローカルモック**：アプリ内でAPIレスポンスをモックする実装

本課題では、モバイルアプリの設計・実装力を中心に評価いたします。

---

## 提出物

### 1. ソースコード

- GitHub リポジトリとして提出
- README に環境構築手順、起動方法を記載

### 2. 設計・実装に関するドキュメント

- 設計意図、技術選定理由、工夫した点などを自由に記載してください
- 形式は問いません（README、別ドキュメント、コード内コメントなど）

### 3.（任意）やり残したこと

- 時間の都合上やり残したことがあれば、GitHub Issue 等にご記載ください

---

## 留意事項

- `main` ブランチを使って動作確認いたします。提出前にすべての成果物が `main` ブランチで正しく動作することをご確認ください。
- コードやドキュメントの変更履歴も選考審査における重要な情報となります。普段のお仕事と同じく、作業の流れがそのままコミットログとして残る形で課題に取り組んでください。
- **AIの活用も問題ありません。** 活用時に留意したポイントや工夫したポイントなどあれば、ぜひドキュメントに残してください。

---

## 課題提出期限

おおむね **1週間程度** での提出を目安としています。

普段のお仕事などと両立しながら課題に取り組んでくださっている候補者さまが多いため、あくまで目安となります。もし1週間を超えそうな場合も、どうぞお気軽にご相談ください。
